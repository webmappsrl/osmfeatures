{
    "openapi": "3.0.0",
    "info": {
        "title": "OSM features API",
        "description": "The OSM Features API provides a comprehensive suite of endpoints for accessing OpenStreetMap (OSM) features in GeoJSON format, designed to streamline the integration and utilization of OSM data in applications. By leveraging daily syncs from the OSM database through osm2pgsql imports, the API ensures the delivery of up-to-date and efficiently processed data. Endpoints include retrieving lists and specific details of Places, Administrative Areas, Hiking Routes, and Poles, each identifiable by unique osmfeatures IDs and accompanied by their latest update timestamps. The API allows for fetching single items or lists, providing data in GeoJSON format. Every endpoint is provided with detailed descriptions, parameters and responses.",
        "contact": {
            "email": "info@webmapp.it"
        },
        "version": "1.0.0"
    },
    "paths": {
        "/api/v1/features/admin-areas/list": {
            "get": {
                "tags": [
                    "API V1"
                ],
                "summary": "List all Admin Areas",
                "description": "Returns a list of Admin Areas with their details. Optionally, filtered by updated_at, bbox, admin_level and score. Paginated results are available.",
                "operationId": "listAdminAreas",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/list_updated_at"
                    },
                    {
                        "$ref": "#/components/parameters/list_page"
                    },
                    {
                        "$ref": "#/components/parameters/list_bbox"
                    },
                    {
                        "$ref": "#/components/parameters/list_score"
                    },
                    {
                        "name": "admin_level",
                        "in": "query",
                        "description": "Administrative level of the area.",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "example": "8"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "osmfeatures_id": {
                                            "description": "Osmfeatures ID of the area",
                                            "type": "string"
                                        },
                                        "updated_at": {
                                            "description": "When the admin area was last updated in OSM, in ISO 8601 format.",
                                            "type": "string",
                                            "format": "date-time"
                                        }
                                    },
                                    "type": "object"
                                },
                                "example": {
                                    "id": "R123456",
                                    "updated_at": "2021-01-01T00:00:00Z"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation errors"
                    },
                    "500": {
                        "description": "Error processing GeoJSON intersection"
                    }
                }
            }
        },
        "/api/v1/features/admin-areas/{id}": {
            "get": {
                "tags": [
                    "API V1"
                ],
                "summary": "Get Admin Area by Osmfeatures ID",
                "description": "Returns a single Admin Area in GeoJSON format",
                "operationId": "getAdminAreaById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Admin Area Osmfeatures ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "type": {
                                            "description": "Type of the GeoJSON object",
                                            "type": "string"
                                        },
                                        "properties": {
                                            "properties": {
                                                "osm_type": {
                                                    "description": "Type of the OSM object (N, W, R)",
                                                    "type": "string"
                                                },
                                                "osm_id": {
                                                    "description": "ID of the OSM object",
                                                    "type": "integer"
                                                },
                                                "updated_at": {
                                                    "description": "When the area was last updated in OSM, in ISO 8601 format.",
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "name": {
                                                    "description": "Name of the area",
                                                    "type": "string"
                                                },
                                                "admin_level": {
                                                    "description": "Administrative level of the area",
                                                    "type": "string"
                                                },
                                                "score": {
                                                    "description": "Score of the area",
                                                    "type": "integer"
                                                },
                                                "osmfeatures_id": {
                                                    "description": "Osmfeatures ID of the area",
                                                    "type": "string"
                                                },
                                                "osm_url": {
                                                    "description": "URL to the Openstreetmap corresponding feature.",
                                                    "type": "string"
                                                },
                                                "osm_api": {
                                                    "description": "URL to the OSM API for the object",
                                                    "type": "string"
                                                },
                                                "osm_tags": {
                                                    "description": "OSM tags of the object",
                                                    "type": "object"
                                                },
                                                "wikipedia": {
                                                    "description": "Wikipedia link for the area",
                                                    "type": "string"
                                                },
                                                "wikidata": {
                                                    "description": "Wikidata link for the area",
                                                    "type": "string"
                                                },
                                                "wikimedia_commons": {
                                                    "description": "Wikimedia Commons link for the area",
                                                    "type": "string"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "geometry": {
                                            "description": "Geometry of the area in GeoJSON format",
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                },
                                "example": {
                                    "type": "Feature",
                                    "properties": {
                                        "osm_type": "R",
                                        "osm_id": 123456,
                                        "updated_at": "2021-01-01T00:00:00Z",
                                        "name": "Admin Area",
                                        "admin_level": "6",
                                        "score": 1,
                                        "osmfeatures_id": "R123456",
                                        "osm_url": "https://www.openstreetmap.org/relation/123456",
                                        "osm_api": "https://www.openstreetmap.org/api/0.6/node/1952252737.json",
                                        "osm_tags": {
                                            "type": "boundary",
                                            "boundary": "administrative"
                                        },
                                        "wikipedia": "https://en.wikipedia.org/wiki/Example",
                                        "wikidata": "https://www.wikidata.org/wiki/Q123456",
                                        "wikimedia_commons": "https://commons.wikimedia.org/wiki/Category:Example"
                                    },
                                    "geometry": {
                                        "type": "Polygon",
                                        "coordinates": [
                                            [
                                                [
                                                    100,
                                                    0
                                                ],
                                                [
                                                    101,
                                                    0
                                                ],
                                                [
                                                    101,
                                                    1
                                                ],
                                                [
                                                    100,
                                                    1
                                                ],
                                                [
                                                    100,
                                                    0
                                                ]
                                            ]
                                        ]
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Admin Area not found"
                    }
                }
            }
        },
        "/api/v1/features/admin-areas/geojson": {
            "post": {
                "tags": [
                    "API V1"
                ],
                "summary": "Calculate and return Admin Areas that intersect the provided GeoJSON",
                "description": "Given a GeoJSON object containing the 'geometry' property and, optionally, the filters updated_at, admin_level and score, the API returns a GeoJSON FeatureCollection containing all Admin Areas whose geometries intersect the provided one. The response payload includes all properties of the admin_area model.",
                "operationId": "intersectingGeojsonAdminArea",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "geojson"
                                ],
                                "properties": {
                                    "geojson": {
                                        "properties": {
                                            "type": {
                                                "type": "string",
                                                "example": "Feature"
                                            },
                                            "geometry": {
                                                "properties": {
                                                    "type": {
                                                        "type": "string",
                                                        "example": "MultiLineString"
                                                    },
                                                    "coordinates": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "number"
                                                                }
                                                            }
                                                        }
                                                    }
                                                },
                                                "type": "object"
                                            },
                                            "properties": {
                                                "properties": {
                                                    "name": {
                                                        "type": "string"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "updated_at": {
                                        "description": "Admin Area updated after this date",
                                        "type": "string",
                                        "example": "2016-01-01T00:00:00Z"
                                    },
                                    "admin_level": {
                                        "description": "Admin Area admin_level",
                                        "type": "integer",
                                        "example": 8
                                    },
                                    "score": {
                                        "description": "Admin Area score",
                                        "type": "integer",
                                        "example": 2
                                    }
                                },
                                "type": "object",
                                "example": {
                                    "geojson": {
                                        "type": "Feature",
                                        "geometry": {
                                            "type": "MultiLineString",
                                            "coordinates": [
                                                [
                                                    [
                                                        10.6955,
                                                        43.8535
                                                    ],
                                                    [
                                                        10.697,
                                                        43.8525
                                                    ],
                                                    [
                                                        10.699,
                                                        43.8515
                                                    ],
                                                    [
                                                        10.701,
                                                        43.8505
                                                    ],
                                                    [
                                                        10.703,
                                                        43.8495
                                                    ]
                                                ],
                                                [
                                                    [
                                                        10.704,
                                                        43.849
                                                    ],
                                                    [
                                                        10.706,
                                                        43.848
                                                    ],
                                                    [
                                                        10.708,
                                                        43.847
                                                    ],
                                                    [
                                                        10.71,
                                                        43.846
                                                    ],
                                                    [
                                                        10.712,
                                                        43.845
                                                    ]
                                                ]
                                            ]
                                        },
                                        "properties": {
                                            "name": "Hiking Route Intersecting"
                                        }
                                    },
                                    "updated_at": "2016-01-01T00:00:00Z",
                                    "admin_level": 8,
                                    "score": 2
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "type": {
                                            "type": "string",
                                            "example": "FeatureCollection"
                                        },
                                        "features": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "type": {
                                                        "type": "string",
                                                        "example": "Feature"
                                                    },
                                                    "properties": {
                                                        "properties": {
                                                            "osm_type": {
                                                                "type": "string",
                                                                "example": "R"
                                                            },
                                                            "osm_id": {
                                                                "type": "integer",
                                                                "example": 42652
                                                            },
                                                            "updated_at": {
                                                                "type": "string",
                                                                "example": "2016-12-03T04:53:02.000000Z"
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Chiesina Uzzanese"
                                                            },
                                                            "admin_level": {
                                                                "type": "integer",
                                                                "example": 8
                                                            },
                                                            "score": {
                                                                "type": "integer",
                                                                "example": 3
                                                            },
                                                            "osmfeatures_id": {
                                                                "type": "string",
                                                                "example": "R42652"
                                                            },
                                                            "osm_url": {
                                                                "type": "string",
                                                                "example": "https://www.openstreetmap.org/relation/42652"
                                                            },
                                                            "osm_api": {
                                                                "type": "string",
                                                                "example": "https://www.openstreetmap.org/api/0.6/relation/42652.json"
                                                            },
                                                            "osm_tags": {
                                                                "type": "object",
                                                                "example": {
                                                                    "name": "Chiesina Uzzanese",
                                                                    "type": "boundary",
                                                                    "boundary": "administrative",
                                                                    "wikidata": "Q102578",
                                                                    "ref:ISTAT": "047022",
                                                                    "wikipedia": "it:Chiesina Uzzanese",
                                                                    "admin_level": "8",
                                                                    "ref:catasto": "C631"
                                                                }
                                                            },
                                                            "wikidata": {
                                                                "type": "string",
                                                                "example": "https://www.wikidata.org/wiki/Q102578"
                                                            },
                                                            "wikipedia": {
                                                                "type": "string",
                                                                "example": "https://en.wikipedia.org/wiki/it:Chiesina Uzzanese"
                                                            },
                                                            "wikimedia_commons": {
                                                                "type": "string",
                                                                "nullable": true
                                                            },
                                                            "enrichments": {
                                                                "type": "object",
                                                                "nullable": true
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "geometry": {
                                                        "properties": {
                                                            "type": {
                                                                "type": "string",
                                                                "example": "MultiPolygon"
                                                            },
                                                            "coordinates": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "array",
                                                                    "items": {
                                                                        "type": "array",
                                                                        "items": {
                                                                            "type": "array",
                                                                            "items": {
                                                                                "type": "number"
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation errors"
                    },
                    "500": {
                        "description": "Error processing GeoJSON intersection"
                    }
                }
            }
        },
        "/api/v1/features/hiking-routes/list": {
            "get": {
                "tags": [
                    "API V1"
                ],
                "summary": "List all Hiking Routes",
                "description": "Returns a list of Hiking Routes with their details. Optionally filtered by updated_at, bbox, score, etc. Paginated results are available.",
                "operationId": "listHikingRoutes",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/list_updated_at"
                    },
                    {
                        "$ref": "#/components/parameters/list_page"
                    },
                    {
                        "$ref": "#/components/parameters/list_bbox"
                    },
                    {
                        "$ref": "#/components/parameters/list_score"
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Hiking Routes that have osm2cai status greater than or equal to the specified value. Max status is 3.",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": "1"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/BaseListItem"
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/features/hiking-routes/{id}": {
            "get": {
                "tags": [
                    "API V1"
                ],
                "summary": "Get Hiking Routes by Osmfeatures ID",
                "description": "Returns a single Hiking Route in GeoJSON format",
                "operationId": "getHikingRouteById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Hiking Route Osmfeatures ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Return the Geojson Feature of the Hiking Route",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "type": {
                                            "type": "string",
                                            "example": "Feature"
                                        },
                                        "properties": {
                                            "properties": {
                                                "type": {
                                                    "type": "string",
                                                    "example": "Feature"
                                                },
                                                "osm_type": {
                                                    "type": "string",
                                                    "example": "R"
                                                },
                                                "osm_id": {
                                                    "type": "integer",
                                                    "example": 4099576
                                                },
                                                "updated_at_osm": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2024-04-14 09:57:19"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2024-04-14T09:57:19.000000Z"
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Via Alpina Red R116"
                                                },
                                                "cai_scale": {
                                                    "type": "string",
                                                    "example": null
                                                },
                                                "score": {
                                                    "type": "integer",
                                                    "example": 2
                                                },
                                                "osmc_symbol": {
                                                    "type": "string",
                                                    "example": "black:red:white_triangle:V:blue"
                                                },
                                                "network": {
                                                    "type": "string",
                                                    "example": "iwn"
                                                },
                                                "survey_date": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": null
                                                },
                                                "roundtrip": {
                                                    "type": "string",
                                                    "example": null
                                                },
                                                "symbol": {
                                                    "type": "string",
                                                    "example": null
                                                },
                                                "symbol_it": {
                                                    "type": "string",
                                                    "example": null
                                                },
                                                "ascent": {
                                                    "type": "integer",
                                                    "example": null
                                                },
                                                "descent": {
                                                    "type": "integer",
                                                    "example": null
                                                },
                                                "distance": {
                                                    "type": "number",
                                                    "example": null
                                                },
                                                "duration_forward": {
                                                    "type": "string",
                                                    "example": null
                                                },
                                                "duration_backward": {
                                                    "type": "string",
                                                    "example": null
                                                },
                                                "from": {
                                                    "type": "string",
                                                    "example": null
                                                },
                                                "to": {
                                                    "type": "string",
                                                    "example": null
                                                },
                                                "rwn_name": {
                                                    "type": "string",
                                                    "example": null
                                                },
                                                "ref_REI": {
                                                    "type": "string",
                                                    "example": null
                                                },
                                                "maintenance": {
                                                    "type": "string",
                                                    "example": null
                                                },
                                                "maintenance_it": {
                                                    "type": "string",
                                                    "example": null
                                                },
                                                "operator": {
                                                    "type": "string",
                                                    "example": "via-alpina.org"
                                                },
                                                "state": {
                                                    "type": "string",
                                                    "example": null
                                                },
                                                "ref": {
                                                    "type": "string",
                                                    "example": "VA-R116"
                                                },
                                                "source": {
                                                    "type": "string",
                                                    "example": null
                                                },
                                                "source_ref": {
                                                    "type": "string",
                                                    "example": null
                                                },
                                                "note": {
                                                    "type": "string",
                                                    "example": null
                                                },
                                                "note_it": {
                                                    "type": "string",
                                                    "example": null
                                                },
                                                "old_ref": {
                                                    "type": "string",
                                                    "example": null
                                                },
                                                "note_project_page": {
                                                    "type": "string",
                                                    "example": null
                                                },
                                                "website": {
                                                    "type": "string",
                                                    "example": "http://www.via-alpina.org/en/stage/296"
                                                },
                                                "wikimedia_commons": {
                                                    "type": "string",
                                                    "example": null
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "example": "Bourg-St-Pierre - Col du Grand-Saint-Bernard"
                                                },
                                                "description_it": {
                                                    "type": "string",
                                                    "example": null
                                                },
                                                "members": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "ref": {
                                                                "type": "integer"
                                                            },
                                                            "role": {
                                                                "type": "string"
                                                            },
                                                            "type": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "example": [
                                                        {
                                                            "ref": 298650101,
                                                            "role": "",
                                                            "type": "w"
                                                        },
                                                        {
                                                            "ref": 298650055,
                                                            "role": "",
                                                            "type": "w"
                                                        }
                                                    ]
                                                },
                                                "members_ids": {
                                                    "type": "string",
                                                    "example": "298650101,298650055"
                                                },
                                                "dem_enrichments": {
                                                    "type": "object",
                                                    "example": {
                                                        "ascent": 1428,
                                                        "ele_to": 1356,
                                                        "descent": 958,
                                                        "ele_max": 2223,
                                                        "ele_min": 887,
                                                        "distance": 11.9,
                                                        "ele_from": 887,
                                                        "round_trip": false,
                                                        "duration_forward_bike": 315,
                                                        "duration_backward_bike": 240,
                                                        "duration_forward_hiking": 315,
                                                        "duration_backward_hiking": 270
                                                    }
                                                },
                                                "admin_areas": {
                                                    "type": "object",
                                                    "example": {
                                                        "2": [
                                                            {
                                                                "osmfeatures_id": "R365331",
                                                                "name": "Italia"
                                                            }
                                                        ],
                                                        "4": [
                                                            {
                                                                "osmfeatures_id": "R41977",
                                                                "name": "Toscana"
                                                            }
                                                        ]
                                                    }
                                                },
                                                "osmfeatures_id": {
                                                    "type": "string",
                                                    "example": "R4099576"
                                                },
                                                "osm_url": {
                                                    "type": "string",
                                                    "example": "https://www.openstreetmap.org/relation/4099576"
                                                },
                                                "osm_api": {
                                                    "type": "string",
                                                    "example": "https://www.openstreetmap.org/api/0.6/relation/4099576.json"
                                                },
                                                "osm_tags": {
                                                    "type": "object",
                                                    "example": {
                                                        "ref": "VA-R116",
                                                        "name": "Via Alpina Red R116",
                                                        "type": "route",
                                                        "route": "hiking",
                                                        "network": "iwn",
                                                        "website": "http://www.via-alpina.org/en/stage/296",
                                                        "operator": "via-alpina.org",
                                                        "description": "Bourg-St-Pierre - Col du Grand-Saint-Bernard",
                                                        "osmc:symbol": "black:red:white_triangle:V:blue"
                                                    }
                                                },
                                                "wikidata": {
                                                    "type": "string",
                                                    "example": null
                                                },
                                                "wikipedia": {
                                                    "type": "string",
                                                    "example": null
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "geometry": {
                                            "properties": {
                                                "type": {
                                                    "type": "string",
                                                    "example": "LineString"
                                                },
                                                "coordinates": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "number"
                                                        }
                                                    },
                                                    "example": [
                                                        [
                                                            100,
                                                            0
                                                        ],
                                                        [
                                                            101,
                                                            1
                                                        ]
                                                    ]
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Hiking Route not found"
                    }
                }
            }
        },
        "/api/v1/features/places/list": {
            "get": {
                "tags": [
                    "API V1"
                ],
                "summary": "List all Places",
                "description": "Returns a list of Places with their IDs and updated timestamps. Optionally filtered by updated_at, bbox and score. Paginated results are available.",
                "operationId": "listPlaces",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/list_updated_at"
                    },
                    {
                        "$ref": "#/components/parameters/list_page"
                    },
                    {
                        "$ref": "#/components/parameters/list_bbox"
                    },
                    {
                        "$ref": "#/components/parameters/list_score"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/BaseListItem"
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/features/places/{id}": {
            "get": {
                "tags": [
                    "API V1"
                ],
                "summary": "Get Place by Osmfeatures ID",
                "description": "Returns a single Place in GeoJSON format",
                "operationId": "getPlaceById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Place Osmfeatures ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "type": {
                                            "type": "string",
                                            "example": "Feature"
                                        },
                                        "properties": {
                                            "properties": {
                                                "osm_type": {
                                                    "type": "string",
                                                    "example": "N"
                                                },
                                                "osm_id": {
                                                    "type": "integer",
                                                    "example": 123456
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2021-01-01T00:00:00Z"
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Place"
                                                },
                                                "class": {
                                                    "type": "string",
                                                    "example": "amenity"
                                                },
                                                "subclass": {
                                                    "type": "string",
                                                    "example": "restaurant"
                                                },
                                                "elevation": {
                                                    "type": "number",
                                                    "example": 1000
                                                },
                                                "score": {
                                                    "type": "number",
                                                    "example": 1
                                                },
                                                "osmfeatures_id": {
                                                    "type": "string",
                                                    "example": "N123456"
                                                },
                                                "osm_url": {
                                                    "type": "string",
                                                    "example": "https://www.openstreetmap.org/node/123456"
                                                },
                                                "osm_api": {
                                                    "type": "string",
                                                    "example": "https://www.openstreetmap.org/api/0.6/node/1952252737.json"
                                                },
                                                "osm_tags": {
                                                    "type": "object",
                                                    "example": {
                                                        "amenity": "restaurant"
                                                    }
                                                },
                                                "wikidata": {
                                                    "type": "string",
                                                    "example": "https://www.wikidata.org/wiki/Q123456"
                                                },
                                                "wikipedia": {
                                                    "type": "string",
                                                    "example": "https://en.wikipedia.org/wiki/Example"
                                                },
                                                "wikimedia_commons": {
                                                    "type": "string",
                                                    "example": "https://commons.wikimedia.org/wiki/Category:Example"
                                                },
                                                "enriched_data": {
                                                    "type": "object",
                                                    "example": {
                                                        "id": 1,
                                                        "last_update_wikipedia": "https://en.wikipedia.org/wiki/Example",
                                                        "last_update_wikidata": "https://www.wikidata.org/wiki/Q123456",
                                                        "last_update_wikimedia_commons": "https://commons.wikimedia.org/wiki/Category:Example",
                                                        "abstract": {
                                                            "it": "Questo é un abstract",
                                                            "en": "This is an abstract"
                                                        },
                                                        "description": {
                                                            "it": "Questa é una descrizione",
                                                            "en": "This is a description"
                                                        },
                                                        "images": [
                                                            {
                                                                "source_url": "https://wikicommons.example.com/image.jpg",
                                                                "dateTime": "2021-01-01T00:00:00Z",
                                                                "aws_url": "https://aws.example.com/image.jpg"
                                                            }
                                                        ]
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "geometry": {
                                            "properties": {
                                                "type": {
                                                    "type": "string",
                                                    "example": "Point"
                                                },
                                                "coordinates": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "number"
                                                    },
                                                    "example": [
                                                        100,
                                                        0
                                                    ]
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Place not found"
                    }
                }
            }
        },
        "/api/v1/features/poles/list": {
            "get": {
                "tags": [
                    "API V1"
                ],
                "summary": "List all Poles",
                "description": "Returns a list of Poles with their IDs and updated timestamps. Optionally provide an 'updated_at' and bbox parameter to filter poles. Paginated results are available, with each page containing 100 poles. Use the 'page' parameter to specify the page number to retrieve.",
                "operationId": "listPoles",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/list_updated_at"
                    },
                    {
                        "$ref": "#/components/parameters/list_page"
                    },
                    {
                        "$ref": "#/components/parameters/list_bbox"
                    },
                    {
                        "$ref": "#/components/parameters/list_score"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/BaseListItem"
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/features/poles/{id}": {
            "get": {
                "tags": [
                    "API V1"
                ],
                "summary": "Get Pole by Osmfeatures ID",
                "description": "Returns a single Pole in GeoJSON format",
                "operationId": "getPoleById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Pole osmfeatures ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "type": {
                                            "description": "Type of the GeoJSON object",
                                            "type": "string"
                                        },
                                        "properties": {
                                            "properties": {
                                                "osm_type": {
                                                    "description": "Type of the OSM object (N, W, R)",
                                                    "type": "string"
                                                },
                                                "osm_id": {
                                                    "description": "ID of the OSM object",
                                                    "type": "integer"
                                                },
                                                "updated_at": {
                                                    "description": "When the pole was last updated in OSM, in ISO 8601 format.",
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "name": {
                                                    "description": "Name of the pole",
                                                    "type": "string"
                                                },
                                                "ref": {
                                                    "description": "Reference number of the pole",
                                                    "type": "string"
                                                },
                                                "ele": {
                                                    "description": "Elevation of the pole in meters",
                                                    "type": "number"
                                                },
                                                "destination": {
                                                    "description": "Destination of the pole",
                                                    "type": "string"
                                                },
                                                "support": {
                                                    "description": "Support of the pole",
                                                    "type": "string"
                                                },
                                                "score": {
                                                    "description": "Score of the pole",
                                                    "type": "number"
                                                },
                                                "osmfeatures_id": {
                                                    "description": "Osmfeatures ID of the pole",
                                                    "type": "string"
                                                },
                                                "osm_url": {
                                                    "description": "URL to the Openstreetmap corresponding feature.",
                                                    "type": "string"
                                                },
                                                "osm_api": {
                                                    "description": "URL to the OSM API for the object",
                                                    "type": "string"
                                                },
                                                "osm_tags": {
                                                    "description": "OSM tags of the object",
                                                    "type": "object"
                                                },
                                                "wikidata": {
                                                    "description": "Wikidata link for the pole",
                                                    "type": "string"
                                                },
                                                "wikipedia": {
                                                    "description": "Wikipedia link for the pole",
                                                    "type": "string"
                                                },
                                                "wikimedia_commons": {
                                                    "description": "Wikimedia Commons link for the pole",
                                                    "type": "string"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "geometry": {
                                            "description": "Geometry of the pole in GeoJSON format",
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Pole not found"
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "BaseListItem": {
                "title": "Base List Item",
                "properties": {
                    "current_page": {
                        "description": "Current page number",
                        "type": "integer",
                        "example": 1
                    },
                    "data": {
                        "type": "array",
                        "items": {
                            "required": [
                                "id",
                                "updated_at"
                            ],
                            "properties": {
                                "id": {
                                    "description": "The Osmfeatures ID of the object",
                                    "type": "string",
                                    "example": "R14230705"
                                },
                                "updated_at": {
                                    "description": "Update date in ISO 8601 format",
                                    "type": "string",
                                    "format": "date-time",
                                    "example": "2024-08-22T08:01:13+02:00"
                                }
                            },
                            "type": "object"
                        }
                    },
                    "first_page_url": {
                        "description": "URL of the first page",
                        "type": "string",
                        "example": "http://0.0.0.0:8006/api/v1/features/models/list?page=1"
                    },
                    "from": {
                        "description": "The starting index of items on current page",
                        "type": "integer",
                        "example": 1
                    },
                    "last_page": {
                        "description": "Number of the last page",
                        "type": "integer",
                        "example": 10
                    },
                    "last_page_url": {
                        "description": "URL of the last page",
                        "type": "string",
                        "example": "http://0.0.0.0:8006/api/v1/features/models/list?page=10"
                    },
                    "links": {
                        "description": "Navigation links for pagination",
                        "type": "array",
                        "items": {
                            "properties": {
                                "url": {
                                    "type": "string",
                                    "nullable": true
                                },
                                "label": {
                                    "type": "string"
                                },
                                "active": {
                                    "type": "boolean"
                                }
                            },
                            "type": "object"
                        },
                        "example": [
                            {
                                "url": null,
                                "label": "pagination.previous",
                                "active": false
                            },
                            {
                                "url": "http://0.0.0.0:8006/api/v1/features/models/list?page=1",
                                "label": "1",
                                "active": true
                            },
                            {
                                "url": "http://0.0.0.0:8006/api/v1/features/models/list?page=2",
                                "label": "2",
                                "active": false
                            }
                        ]
                    },
                    "next_page_url": {
                        "description": "URL of the next page",
                        "type": "string",
                        "example": "http://0.0.0.0:8006/api/v1/features/models/list?page=2",
                        "nullable": true
                    },
                    "path": {
                        "description": "Base path of the API endpoint",
                        "type": "string",
                        "example": "http://0.0.0.0:8006/api/v1/features/models/list"
                    },
                    "per_page": {
                        "description": "Number of items per page",
                        "type": "integer",
                        "example": 100
                    },
                    "prev_page_url": {
                        "description": "URL of the previous page",
                        "type": "string",
                        "example": null,
                        "nullable": true
                    },
                    "to": {
                        "description": "The ending index of items on current page",
                        "type": "integer",
                        "example": 100
                    },
                    "total": {
                        "description": "Total number of items across all pages",
                        "type": "integer",
                        "example": 937
                    }
                },
                "type": "object"
            }
        },
        "parameters": {
            "list_updated_at": {
                "name": "updated_at",
                "in": "query",
                "description": "Returns elements updated after this date (ISO 8601 format).",
                "required": false,
                "schema": {
                    "type": "string",
                    "format": "date-time",
                    "example": "2021-01-01T00:00:00Z"
                }
            },
            "list_page": {
                "name": "page",
                "in": "query",
                "description": "Page number (100 results per page).",
                "required": false,
                "schema": {
                    "type": "integer",
                    "example": 1
                }
            },
            "list_bbox": {
                "name": "bbox",
                "in": "query",
                "description": "Bounding box to filter elements; format [minLon, minLat, maxLon, maxLat].",
                "required": false,
                "schema": {
                    "type": "string",
                    "example": "[6.7499552751,36.619987291,18.4802470232,47.1153931748]"
                }
            },
            "list_score": {
                "name": "score",
                "in": "query",
                "description": "Filter elements that have a score greater than or equal to the specified value.",
                "required": false,
                "schema": {
                    "type": "integer",
                    "example": 2
                }
            }
        }
    }
}